---
title: 微信 “小程序” 开发感受
date: 2017-04-21
---

大概2017年3月底的时候，腾讯开放了小程序对于个人用户的申请，不再仅仅是企业或者是个体经营者了。这个消息对于我这个自雇开发者而言，绝对是“好消息”，因为省去了注册公司，或者去购买所谓资质的困扰。

我相信，绝大部分人想参与开发微信“小程序”的程序员而言，最大的吸引力莫过于“微信朋友圈”这个社交媒体庞大的用户群和每天的活跃量。无论是想寻求销量的“微店”商家，还是想吸引眼球的“营销号”，微信绝对是一个不可放弃的主战场。

我当然也不例外，但在开发过程中从原先的“踌躇满志”到最后的“郁郁寡欢”，今天正好也记录下来，作为将来的参考。

1. 兴奋。因为寄生于“微信”客户端中的这个App，可以非常容易地打通“微信”用户登录这条路径，这也是当初第一时间吸引我的一个地方。要知道，如果想要使用“微信用户”登录这个接口，就需要有“开发者资质认证”，而要通过所谓的“开发者资质认证”，就需要有企业资质或者个体经营者资质，说的直接一点，就是需要一张“营业执照”。对于我个人而言，刚开始为了测试一个功能，一切都没有成熟的情况下，而去申请注册一个公司，目前而言还没有这个必要。

2. 满意。大致浏览了一下“小程序”的开发文档，还算规整，也仔细查看了其中的使用细节和参考，非常容易上手，大体上使用的是Vue.js和React的前台渲染。API接口丰富，也非常好用，例如，二维码扫描，卡券，蓝牙接口，地图等等，很多高级接口都可以很容易地被调用到，对于开发人员而言，开发难度和要求降低了不少。而且更有现成的WeUI样式表可以使用，整体上的风格可以和微信保持一致，而不在需要另外开发。

3. 失望。但是慢慢地当我开发到了一定阶段的时候，就会发现这个环境的“封闭”。
  1. 用户的unionId必须要“开发者资质认证”，不然只能拿到openId。如果仅有一个腾讯平台的话，那还好，但是如果你想打通“公众号”，“小程序”，以及其他腾讯公众平台的话，那么还是先去注册“一个公司”吧。
  2. unionId和openId在加密信息中，为了安全无可非议，但是如果你需要解密的话，还需要第三方的程序才可以（当然也可以自己用node.js搭建，但是必须符合我接下来要说的第三点……
  3. 当使用wx.request调用的时候，在真机使用的时候，白名单中必须使用"https"协议，不能使用"http"。知道这是为了安全考虑，但是这对于自己host的后台服务端的要求就高了，因为要知道申请和使用SSL/TLS一年的费用不便宜。而且很多开放的API接口提供商，也并不一定都会使用https，例如：http://apis.juhe.cn 。

目前，初步粗略的测试了一下“小程序”，大体上的开发难度不是很大，但是门槛不是很低。不过就像腾讯官方说的那样：

> ### “小程序”的产品定位和功能介绍
> 微信小程序是一种全新的连接用户与服务的方式，它可以在微信内被便捷地获取和传播，同时具有出色的使用体验。

综上所述，如果有意向开发“小程序”的小伙伴，可以参考以下几条做好准备：
1. 以“企业”或者“个体营业者”身份申请，通过认证（300元每年）；
2. 后台服务器必须是https；
3. “微信支付”也是需要有通过认证的开发账号，才能使用；

“小程序”属于即用即丢的App，是引流和打通腾讯其他开放平台的一个入口。目前，“小程序”也不支持“朋友圈”的转发，仅支持聊天窗口（“朋友”和“群聊”）共享。

如何能够真正整合“公众号”（不是“订阅号”）和“小程序”，以及“微信”以外的第三方App？也正是我目前在思考的内容。
